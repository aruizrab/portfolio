<header class="site-header">
  <div class="container">
    <a class="brand" routerLink="/">{{ hero().name }}</a>

    <div class="header-actions">
      <!-- Theme Switch (Mobile Only) -->
      <div class="theme-switch mobile-only">
        <input type="checkbox" class="theme-switch__input" id="theme-toggle-mobile" [checked]="theme() === 'dark'"
          (change)="onThemeToggleChange($event)" [attr.aria-label]="themeToggleAriaLabel()" />
        <label class="theme-switch__label" for="theme-toggle-mobile">
          <span class="theme-switch__icon theme-switch__icon--sun" aria-hidden="true">
            <svg viewBox="0 0 24 24" width="16" height="16" focusable="false" fill="none" stroke="currentColor"
              stroke-width="2" stroke-linecap="round">
              <circle cx="12" cy="12" r="4" />
              <line x1="12" y1="2" x2="12" y2="5" />
              <line x1="12" y1="19" x2="12" y2="22" />
              <line x1="4.22" y1="4.22" x2="6.34" y2="6.34" />
              <line x1="17.66" y1="17.66" x2="19.78" y2="19.78" />
              <line x1="2" y1="12" x2="5" y2="12" />
              <line x1="19" y1="12" x2="22" y2="12" />
              <line x1="4.22" y1="19.78" x2="6.34" y2="17.66" />
              <line x1="17.66" y1="6.34" x2="19.78" y2="4.22" />
            </svg>
          </span>
          <span class="theme-switch__icon theme-switch__icon--moon" aria-hidden="true">
            <svg viewBox="0 0 24 24" width="16" height="16" focusable="false" fill="currentColor">
              <path d="M21 14.5A8.5 8.5 0 0 1 9.5 3 8.5 8.5 0 1 0 21 14.5z" />
            </svg>
          </span>
          <span class="theme-switch__thumb" aria-hidden="true"></span>
        </label>
      </div>

      <!-- Mobile Menu Toggle -->
      <button class="mobile-menu-toggle" (click)="toggleMobileMenu()" [class.active]="mobileMenuOpen()"
        aria-label="Toggle navigation">
        <span class="hamburger-box">
          <span class="hamburger-inner"></span>
        </span>
      </button>
    </div>

    <!-- Navigation Links & Language Switcher -->
    <div class="nav-wrapper" [class.open]="mobileMenuOpen()">
      <nav>
        <a routerLink="/" fragment="projects" (click)="closeMobileMenu()">{{ navigation().projects }}</a>
        <a routerLink="/" fragment="experience" (click)="closeMobileMenu()">{{ navigation().experience }}</a>
        <a routerLink="/" fragment="skills" (click)="closeMobileMenu()">{{ navigation().skills }}</a>
        <a routerLink="/blog" routerLinkActive="active" (click)="closeMobileMenu()">{{ navigation().blog }}</a>
        <a routerLink="/" fragment="contact" (click)="closeMobileMenu()">{{ navigation().contact }}</a>
      </nav>

      <div class="nav-controls">
        <!-- Theme Switch (Desktop Only) -->
        <div class="theme-switch desktop-only">
          <input type="checkbox" class="theme-switch__input" id="theme-toggle-desktop" [checked]="theme() === 'dark'"
            (change)="onThemeToggleChange($event)" [attr.aria-label]="themeToggleAriaLabel()" />
          <label class="theme-switch__label" for="theme-toggle-desktop">
            <span class="theme-switch__icon theme-switch__icon--sun" aria-hidden="true">
              <svg viewBox="0 0 24 24" width="16" height="16" focusable="false" fill="none" stroke="currentColor"
                stroke-width="2" stroke-linecap="round">
                <circle cx="12" cy="12" r="4" />
                <line x1="12" y1="2" x2="12" y2="5" />
                <line x1="12" y1="19" x2="12" y2="22" />
                <line x1="4.22" y1="4.22" x2="6.34" y2="6.34" />
                <line x1="17.66" y1="17.66" x2="19.78" y2="19.78" />
                <line x1="2" y1="12" x2="5" y2="12" />
                <line x1="19" y1="12" x2="22" y2="12" />
                <line x1="4.22" y1="19.78" x2="6.34" y2="17.66" />
                <line x1="17.66" y1="6.34" x2="19.78" y2="4.22" />
              </svg>
            </span>
            <span class="theme-switch__icon theme-switch__icon--moon" aria-hidden="true">
              <svg viewBox="0 0 24 24" width="16" height="16" focusable="false" fill="currentColor">
                <path d="M21 14.5A8.5 8.5 0 0 1 9.5 3 8.5 8.5 0 1 0 21 14.5z" />
              </svg>
            </span>
            <span class="theme-switch__thumb" aria-hidden="true"></span>
          </label>
        </div>

        <div class="language-switcher" [class.open]="languageMenuOpen()">
          <button type="button" class="language-toggle" (click)="toggleLanguageMenu()"
            [attr.aria-expanded]="languageMenuOpen()" aria-haspopup="listbox"
            [attr.aria-label]="currentLanguage().label">
            <span class="language-content">
              <img [src]="currentLanguage().icon" [alt]="currentLanguage().label" width="25" height="15" />
              <span class="language-name">{{ currentLanguage().label }}</span>
            </span>
            <span class="chevron" aria-hidden="true"></span>
          </button>
          <ul *ngIf="languageMenuOpen()" role="listbox" @dropdownAnimation>
            @for (option of otherLanguages(); track option.code) {
            <li>
              <button type="button" role="option" [attr.aria-selected]="false" (click)="selectLanguage(option.code)"
                [attr.aria-label]="option.label">
                <span class="language-content">
                  <img [src]="option.icon" [alt]="option.label" width="25" height="15" />
                  <span class="language-name">{{ option.label }}</span>
                </span>
              </button>
            </li>
            }
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>

<main class="container">
  <router-outlet></router-outlet>
</main>

<footer class="site-footer">
  <div class="container">
    <p>© {{ year }} {{ hero().name }} · Built with Angular 17.</p>
  </div>
</footer>